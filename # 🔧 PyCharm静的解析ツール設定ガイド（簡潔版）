# ğŸ”§ PyCharmé™çš„è§£æãƒ„ãƒ¼ãƒ«è¨­å®šã‚¬ã‚¤ãƒ‰ï¼ˆç°¡æ½”ç‰ˆï¼‰

**3ã¤ã®è¨­å®šæ–¹æ³•ã‚’æ®µéšçš„ã«è§£èª¬**

---

## ğŸ“š ç›®æ¬¡

1. [æ–¹æ³•1: External Toolsï¼ˆåŸºæœ¬ï¼‰](#æ–¹æ³•1-external-toolsåŸºæœ¬)
2. [æ–¹æ³•2: File Watchersï¼ˆè‡ªå‹•å®Ÿè¡Œï¼‰](#æ–¹æ³•2-file-watchersè‡ªå‹•å®Ÿè¡Œ)
3. [æ–¹æ³•3: çµ„ã¿è¾¼ã¿æ©Ÿèƒ½ï¼ˆæ¨å¥¨ï¼‰](#æ–¹æ³•3-çµ„ã¿è¾¼ã¿æ©Ÿèƒ½æ¨å¥¨)
4. [å®Ÿè·µï¼š3ã‚¹ãƒ†ãƒƒãƒ—ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#å®Ÿè·µ3ã‚¹ãƒ†ãƒƒãƒ—ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)

---

## æ–¹æ³•1: External Toolsï¼ˆåŸºæœ¬ï¼‰

### æ‰‹å‹•ã§ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹è¨­å®š

#### ã‚¹ãƒ†ãƒƒãƒ—1: è¨­å®šç”»é¢ã‚’é–‹ã

```
Windows/Linux: File â†’ Settings â†’ Tools â†’ External Tools
Mac: PyCharm â†’ Preferences â†’ Tools â†’ External Tools
```

#### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ï¼ˆ+ãƒœã‚¿ãƒ³ï¼‰

**Ruff Check ã®è¨­å®š**
```
Name: Ruff Check
Description: Ruffã§ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯
Program: ruff
Arguments: check $FilePath$ --fix
Working directory: $ProjectFileDir$

â˜‘ Synchronize files after execution
â˜‘ Open console for tool output
```

**Ruff Format ã®è¨­å®š**
```
Name: Ruff Format
Description: Ruffã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
Program: ruff
Arguments: format $FilePath$
Working directory: $ProjectFileDir$

â˜‘ Synchronize files after execution
```

**mypy ã®è¨­å®š**
```
Name: mypy
Description: å‹ãƒã‚§ãƒƒã‚¯
Program: mypy
Arguments: $FilePath$ --show-error-codes --pretty
Working directory: $ProjectFileDir$

â˜‘ Open console for tool output
```

**Bandit ã®è¨­å®š**
```
Name: Bandit
Description: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
Program: bandit
Arguments: -r $FilePath$
Working directory: $ProjectFileDir$

â˜‘ Open console for tool output
```

#### ã‚¹ãƒ†ãƒƒãƒ—3: ä½¿ã„æ–¹

```
æ–¹æ³•A: ãƒ•ã‚¡ã‚¤ãƒ«ä¸Šã§å³ã‚¯ãƒªãƒƒã‚¯
â†’ External Tools â†’ Ruff Check

æ–¹æ³•B: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰å®Ÿè¡Œ
Tools â†’ External Tools â†’ Ruff Check

æ–¹æ³•C: ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼è¨­å®šï¼ˆä»»æ„ï¼‰
Settings â†’ Keymap â†’ External Tools
â†’ Ruff Check ã‚’æ¤œç´¢ â†’ å³ã‚¯ãƒªãƒƒã‚¯ â†’ Add Keyboard Shortcut
ä¾‹: Ctrl+Alt+R
```

---

## æ–¹æ³•2: File Watchersï¼ˆè‡ªå‹•å®Ÿè¡Œï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•å®Ÿè¡Œã™ã‚‹è¨­å®š

#### ã‚¹ãƒ†ãƒƒãƒ—1: File Watchersã‚’é–‹ã

```
Settings â†’ Tools â†’ File Watchers â†’ +
```

#### ã‚¹ãƒ†ãƒƒãƒ—2: Watcherã‚’è¿½åŠ 

**Ruff Format Watcher**
```
Name: Ruff Format
File type: Python
Scope: Project Files
Program: ruff
Arguments: format $FilePath$
Output paths to refresh: $FilePath$
Working directory: $ProjectFileDir$

â˜‘ Auto-save edited files to trigger the watcher
â˜‘ Trigger the watcher on external changes
```

**è¨­å®šã®ãƒã‚¤ãƒ³ãƒˆ:**
- `Auto-save edited files` â†’ ä¿å­˜æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
- `Output paths to refresh` â†’ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¾Œã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†èª­ã¿è¾¼ã¿

#### æ³¨æ„äº‹é …

```
Programã®ãƒ‘ã‚¹ãŒé€šã£ã¦ã„ãªã„å ´åˆ:

1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ãƒ‘ã‚¹ã‚’ç¢ºèª
   which ruff          # Mac/Linux
   where ruff          # Windows

2. ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’è¨˜å…¥
   ä¾‹: /Users/username/.venv/bin/ruff
```

---

## æ–¹æ³•3: çµ„ã¿è¾¼ã¿æ©Ÿèƒ½ï¼ˆæ¨å¥¨ï¼‰

### PyCharmæ¨™æº–æ©Ÿèƒ½ã‚’æ´»ç”¨

#### A. ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚·ãƒ§ãƒ³

```
Settings â†’ Editor â†’ Inspections â†’ Python

â˜‘ PEP 8 coding style violation
â˜‘ Type checker
â˜‘ Unresolved references
â˜‘ Incorrect function signature
```

#### B. ä¿å­˜æ™‚ã®è‡ªå‹•ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

```
Settings â†’ Tools â†’ Actions on Save

â˜‘ Reformat code
â˜‘ Optimize imports
â˜‘ Run code cleanup
```

#### C. å‹ãƒ’ãƒ³ãƒˆã®è¨­å®š

```
Settings â†’ Editor â†’ Inlay Hints â†’ Python

â˜‘ Type hints
â˜‘ Parameter names
```

#### D. Pythonã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ã®è¨­å®š

```
Settings â†’ Project â†’ Python Interpreter

1. ä»®æƒ³ç’°å¢ƒã‚’é¸æŠï¼ˆ.venvï¼‰
2. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§ã§ä»¥ä¸‹ã‚’ç¢ºèª:
   - ruff
   - mypy
   - bandit
```

---

## å®Ÿè·µï¼š3ã‚¹ãƒ†ãƒƒãƒ—ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆTerminalï¼‰

```bash
# PyCharmä¸‹éƒ¨ã®Terminalã‚¿ãƒ–ã§å®Ÿè¡Œ

# ä»®æƒ³ç’°å¢ƒã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆï¼ˆè‡ªå‹•çš„ã«ã•ã‚Œã¦ã„ã‚‹å ´åˆãŒå¤šã„ï¼‰
# Windows: .venv\Scripts\activate
# Mac/Linux: source .venv/bin/activate

# ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install ruff mypy bandit

# ç¢ºèª
ruff --version
mypy --version
bandit --version
```

---

### ã‚¹ãƒ†ãƒƒãƒ—2: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« `pyproject.toml` ã‚’ä½œæˆ

```toml
# pyproject.toml

[tool.ruff]
line-length = 88
target-version = "py310"
select = [
    "E",   # pycodestyle errors
    "F",   # pyflakes
    "I",   # isort
    "N",   # pep8-naming
    "UP",  # pyupgrade
    "B",   # flake8-bugbear
]
ignore = ["E501"]

[tool.ruff.format]
quote-style = "double"
indent-style = "space"

[tool.mypy]
python_version = "3.10"
warn_return_any = true
disallow_untyped_defs = true
show_error_codes = true
pretty = true
```

---

### ã‚¹ãƒ†ãƒƒãƒ—3: PyCharmã«çµ±åˆï¼ˆ3ã¤ã®æ–¹æ³•ã‹ã‚‰é¸æŠï¼‰

#### ğŸ‘ åˆå¿ƒè€…æ¨å¥¨: External Tools ã®ã¿

```
1. Settings â†’ Tools â†’ External Tools
2. Ruff Check ã‚’è¿½åŠ 
3. mypy ã‚’è¿½åŠ 
4. å¿…è¦ãªæ™‚ã«å³ã‚¯ãƒªãƒƒã‚¯ â†’ External Tools ã§å®Ÿè¡Œ
```

#### ğŸ‘ğŸ‘ ä¸­ç´šè€…æ¨å¥¨: External Tools + File Watchers

```
1. External Tools ã§ Ruff, mypy ã‚’è¨­å®š
2. File Watchers ã§ Ruff Format ã‚’è¿½åŠ 
3. ä¿å­˜æ™‚ã«è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€æ‰‹å‹•ã§ãƒã‚§ãƒƒã‚¯
```

#### ğŸ‘ğŸ‘ğŸ‘ ä¸Šç´šè€…æ¨å¥¨: ã™ã¹ã¦çµ±åˆ

```
1. External Tools: ã™ã¹ã¦ã®ãƒ„ãƒ¼ãƒ«
2. File Watchers: Ruff Formatï¼ˆä¿å­˜æ™‚è‡ªå‹•å®Ÿè¡Œï¼‰
3. Actions on Save: Reformat code, Optimize imports
4. Inspections: ã™ã¹ã¦æœ‰åŠ¹åŒ–
```

---

## ä¾¿åˆ©ãª Tips

### Tip 1: ãƒã‚¯ãƒ­ã§ä¸€æ‹¬å®Ÿè¡Œ

```
1. Edit â†’ Macros â†’ Start Macro Recording
2. Tools â†’ External Tools â†’ Ruff Check
3. Tools â†’ External Tools â†’ mypy
4. Edit â†’ Macros â†’ Stop Macro Recording
5. ãƒã‚¯ãƒ­å: "All Checks"
6. Settings â†’ Keymap ã§ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆè¨­å®š
   ä¾‹: Ctrl+Alt+A
```

---

### Tip 2: ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼æ¨å¥¨è¨­å®š

```
Settings â†’ Keymap

Ruff Check:    Ctrl+Alt+R
Ruff Format:   Ctrl+Alt+F
mypy:          Ctrl+Alt+M
All Checks:    Ctrl+Alt+A
```

---

### Tip 3: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–

```
1. å®Œç’§ãªè¨­å®šã‚’ä½œã‚‹
2. File â†’ Export â†’ Export Settings
3. æ¬¡å›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
```

---

### Tip 4: ãƒãƒ¼ãƒ å…±æœ‰è¨­å®š

```
.idea/ ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸€éƒ¨ã‚’Gitã«å«ã‚ã‚‹:

# .gitignore
.idea/*
!.idea/externalTools.xml    # External Toolsè¨­å®š
!.idea/watcherTasks.xml     # File Watchersè¨­å®š
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: ã€Œruff: command not foundã€

```
åŸå› : Pythonã®ãƒ‘ã‚¹ãŒé€šã£ã¦ã„ãªã„

è§£æ±ºæ–¹æ³•:
1. Terminalã§ç¢ºèª
   which ruff  # Mac/Linux
   where ruff  # Windows

2. ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’ä½¿ç”¨
   Program: /path/to/.venv/bin/ruff

3. ã¾ãŸã¯ä»®æƒ³ç’°å¢ƒã‚’ç¢ºèª
   Settings â†’ Project â†’ Python Interpreter
   .venv ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
```

---

### å•é¡Œ2: File WatcherãŒå‹•ã‹ãªã„

```
ãƒã‚§ãƒƒã‚¯é …ç›®:
â˜‘ Auto-save edited files ã«ãƒã‚§ãƒƒã‚¯
â˜‘ Program ã®ãƒ‘ã‚¹ãŒæ­£ã—ã„
â˜‘ Working directory ãŒ $ProjectFileDir$
â˜‘ Output paths to refresh ãŒ $FilePath$

ãƒ‡ãƒãƒƒã‚°æ–¹æ³•:
1. Terminalã§æ‰‹å‹•å®Ÿè¡Œã—ã¦ç¢ºèª
   ruff format your_file.py
2. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
```

---

### å•é¡Œ3: ä¿å­˜æ™‚ã«2å›å®Ÿè¡Œã•ã‚Œã‚‹

```
åŸå› : è¤‡æ•°ã®è¨­å®šãŒç«¶åˆ

è§£æ±ºæ–¹æ³•:
Actions on Save ã¨ File Watchers ã§
åŒã˜å‡¦ç†ã‚’ã—ã¦ã„ãªã„ã‹ç¢ºèª

æ¨å¥¨:
- File Watchers: Ruff Format ã®ã¿
- Actions on Save: Optimize imports ã®ã¿
```

---

## ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### æœ€å°æ§‹æˆï¼ˆ5åˆ†ï¼‰

```
1. pip install ruff mypy
2. Settings â†’ Tools â†’ External Tools
   - Ruff Check è¿½åŠ 
   - mypy è¿½åŠ 
3. å®Œäº†
```

---

### æ¨å¥¨æ§‹æˆï¼ˆ10åˆ†ï¼‰

```
1. pip install ruff mypy bandit
2. pyproject.toml ä½œæˆ
3. External Tools è¨­å®šï¼ˆ3ã¤ï¼‰
4. File Watchers è¨­å®šï¼ˆRuff Formatï¼‰
5. Actions on Save æœ‰åŠ¹åŒ–
6. å®Œäº†
```

---

### ãƒ•ãƒ«æ§‹æˆï¼ˆ20åˆ†ï¼‰

```
1. ã™ã¹ã¦ã®ãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
3. External Tools è¨­å®š
4. File Watchers è¨­å®š
5. Inspections è¨­å®š
6. Actions on Save è¨­å®š
7. ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼è¨­å®š
8. ãƒã‚¯ãƒ­ä½œæˆ
9. å®Œäº†
```

---

## ã¾ã¨ã‚

### æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¸ã®æ¨å¥¨

```
ã€ç¬¬1é€±ã€‘
External Tools ã§ Ruff + mypy
â†’ æ‰‹å‹•å®Ÿè¡Œã«æ…£ã‚Œã‚‹

ã€ç¬¬2é€±ã€‘
File Watchers ã§ Ruff Format è¿½åŠ 
â†’ ä¿å­˜æ™‚è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

ã€ç¬¬3é€±ã€‘
Actions on Save æœ‰åŠ¹åŒ–
â†’ å®Œå…¨è‡ªå‹•åŒ–

ã€ç¬¬4é€±ã€‘
ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼è¨­å®š
â†’ åŠ¹ç‡åŒ–
```

---

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ:**

1. **ä¸€åº¦ã«å…¨éƒ¨ã‚„ã‚‰ãªã„** â†’ æ®µéšçš„ã«å°å…¥
2. **Programã®ãƒ‘ã‚¹** â†’ ä»®æƒ³ç’°å¢ƒã®ãƒ‘ã‚¹ã‚’ç¢ºèª
3. **File Watchers** â†’ ä¿å­˜æ™‚è‡ªå‹•å®Ÿè¡ŒãŒä¾¿åˆ©
4. **ãƒãƒ¼ãƒ å…±æœ‰** â†’ `.idea/` ã®ä¸€éƒ¨ã‚’Gitç®¡ç†

PyCharmã®è¨­å®šã¯æœ€åˆã ã‘æ‰‹é–“ã§ã™ãŒã€ä¸€åº¦è¨­å®šã™ã‚Œã°ãšã£ã¨ä½¿ãˆã¾ã™ã€‚ã¾ãšã¯ Ruff + mypy ã® External Tools ã‹ã‚‰å§‹ã‚ã¦ãã ã•ã„ã€‚
