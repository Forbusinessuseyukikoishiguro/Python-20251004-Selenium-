# ğŸ° ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰å®Œå…¨ã‚¬ã‚¤ãƒ‰ - ãµã‚ãµã‚å¤§ç¦åº—ã†ã•ã†ã•ç·¨

ã†ã•ã†ã•åº—é•·ãŒã€Pythonã®ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆãƒã‚¸ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰ã‚’ã‚ã‹ã‚Šã‚„ã™ãè§£èª¬ã™ã‚‹ã‚ˆï¼

## ğŸ“š ç›®æ¬¡
1. `__init__` ã¨ `__del__` - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€ç”Ÿ
2. `__add__` ã¨ç®—è¡“æ¼”ç®—å­ - è¨ˆç®—ã‚’è‡ªç”±ã«å®šç¾©
3. `__radd__` - é€†é †ã®è¨ˆç®—
4. ãã®ä»–ã®ä¾¿åˆ©ãªç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰

---

## 1ï¸âƒ£ `__init__` ã¨ `__del__` - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®èª•ç”Ÿã¨çµ‚äº†

```python
# ============================================
# ğŸ° ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«
# ============================================

class Daifuku:
    """å¤§ç¦ã‚¯ãƒ©ã‚¹ - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€ç”Ÿã‚’è¿½è·¡"""
    
    # ã‚¯ãƒ©ã‚¹å¤‰æ•°ï¼ˆå…¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§å…±æœ‰ï¼‰
    total_created = 0
    # ä½œã‚‰ã‚ŒãŸå¤§ç¦ã®ç·æ•°
    
    def __init__(self, flavor, price):
        """
        ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆèª•ç”Ÿæ™‚ã«è‡ªå‹•å®Ÿè¡Œ
        
        å½¹å‰²: ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã®åˆæœŸåŒ–
        å‘¼ã³å‡ºã—: Daifuku("ã„ã¡ã”", 120) ã§è‡ªå‹•çš„ã«å®Ÿè¡Œã•ã‚Œã‚‹
        """
        print(f"  ğŸ‰ {flavor}å¤§ç¦ãŒèª•ç”Ÿã—ã¾ã—ãŸï¼")
        # ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        
        self.flavor = flavor
        # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ï¼ˆã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒ‡ãƒ¼ã‚¿ï¼‰
        self.price = price
        # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ï¼ˆä¾¡æ ¼ï¼‰
        
        Daifuku.total_created += 1
        # ã‚¯ãƒ©ã‚¹å¤‰æ•°ã‚’æ›´æ–°ï¼ˆå…¨ä½“ã®æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆï¼‰
        self.id = Daifuku.total_created
        # ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è­˜åˆ¥ç•ªå·
        
        print(f"    ï¼ˆID: {self.id}ã€ä¾¡æ ¼: {self.price}å††ï¼‰")
    
    def __del__(self):
        """
        ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
        
        å½¹å‰²: ãƒªã‚½ãƒ¼ã‚¹ã®è§£æ”¾ã€å¾Œç‰‡ä»˜ã‘
        å‘¼ã³å‡ºã—: del ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ or ãƒ—ãƒ­ã‚°ãƒ©ãƒ çµ‚äº†æ™‚
        """
        print(f"  ğŸ‘‹ {self.flavor}å¤§ç¦(ID:{self.id})ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸ")
        # ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    
    def __str__(self):
        """
        æ–‡å­—åˆ—è¡¨ç¾ - print()ã§å‘¼ã°ã‚Œã‚‹
        """
        return f"{self.flavor}å¤§ç¦({self.price}å††)"
        # äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼


print("ğŸ° === ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« ===\n")

# __init__ãŒè‡ªå‹•çš„ã«å‘¼ã°ã‚Œã‚‹
d1 = Daifuku("ã„ã¡ã”", 120)
# Daifuku.__init__(d1, "ã„ã¡ã”", 120) ãŒå®Ÿè¡Œã•ã‚Œã‚‹

d2 = Daifuku("æŠ¹èŒ¶", 150)
# 2ã¤ç›®ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

print(f"\nğŸ“Š ç¾åœ¨ã®å¤§ç¦æ•°: {Daifuku.total_created}å€‹")

print("\nğŸ—‘ï¸  d1ã‚’å‰Šé™¤ã—ã¾ã™...")
del d1
# __del__ãŒè‡ªå‹•çš„ã«å‘¼ã°ã‚Œã‚‹
# Daifuku.__del__(d1) ãŒå®Ÿè¡Œã•ã‚Œã‚‹

print("\nâœ… d2ã¯ã¾ã å­˜åœ¨:")
print(f"  {d2}")

print("\nğŸ”š ãƒ—ãƒ­ã‚°ãƒ©ãƒ çµ‚äº†æ™‚ã«æ®‹ã‚Šã‚‚è‡ªå‹•å‰Šé™¤ã•ã‚Œã¾ã™")
# ãƒ—ãƒ­ã‚°ãƒ©ãƒ çµ‚äº†æ™‚ã€d2ã®__del__ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹
```

### ğŸ’¡ `__init__` ã¨ `__del__` ã¾ã¨ã‚

| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¿ã‚¤ãƒŸãƒ³ã‚° | ä¸»ãªå½¹å‰² | å‘¼ã³å‡ºã—æ–¹æ³• |
|---------|-----------|---------|------------|
| `__init__()` | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ™‚ | åˆæœŸåŒ– | è‡ªå‹•ï¼ˆ`ã‚¯ãƒ©ã‚¹å()`æ™‚ï¼‰ |
| `__del__()` | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å‰Šé™¤æ™‚ | å¾Œç‰‡ä»˜ã‘ | è‡ªå‹•ï¼ˆ`del`ã¾ãŸã¯çµ‚äº†æ™‚ï¼‰ |

**ğŸ§ è¦šãˆæ–¹:**
- `__init__` ã¯ã€Œã“ã‚“ã«ã¡ã¯ï¼ã€ï¼ˆèª•ç”Ÿï¼‰
- `__del__` ã¯ã€Œã•ã‚ˆã†ãªã‚‰ï¼ã€ï¼ˆçµ‚äº†ï¼‰

---

## 2ï¸âƒ£ `__add__` - ã€Œ+ã€æ¼”ç®—å­ã‚’è‡ªç”±ã«å®šç¾©

```python
# ============================================
# ğŸ° __add__ã§ã€Œ+ã€ã®æ„å‘³ã‚’å®šç¾©ã™ã‚‹
# ============================================

class Daifuku:
    """å¤§ç¦ã‚¯ãƒ©ã‚¹ - åŠ ç®—ã‚’å®šç¾©"""
    
    def __init__(self, flavor, price=120):
        """
        åˆæœŸåŒ–
        """
        self.flavor = flavor
        # å‘³
        self.price = price
        # ä¾¡æ ¼
    
    def __add__(self, other):
        """
        åŠ ç®—æ¼”ç®—å­ã€Œ+ã€ã®å‹•ä½œã‚’å®šç¾©
        
        self + other ãŒå‘¼ã°ã‚Œã‚‹ã¨ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹
        
        å¼•æ•°:
            self: å·¦å´ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
            other: å³å´ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
        
        æˆ»ã‚Šå€¤:
            æ–°ã—ã„Daifukuã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
        """
        if isinstance(other, Daifuku):
            # otherãŒDaifukuã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹ç¢ºèª
            # isinstance(ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ, å‹) â†’ å‹ãƒã‚§ãƒƒã‚¯
            
            new_flavor = f"{self.flavor}Ã—{other.flavor}"
            # 2ã¤ã®å‘³ã‚’çµ„ã¿åˆã‚ã›ã‚‹
            new_price = self.price + other.price
            # ä¾¡æ ¼ã‚’åˆç®—
            
            return Daifuku(new_flavor, new_price)
            # æ–°ã—ã„å¤§ç¦ã‚’ä½œã£ã¦è¿”ã™
            
        elif isinstance(other, int):
            # otherãŒæ•´æ•°ã®å ´åˆ
            
            new_price = self.price + other
            # ä¾¡æ ¼ã«æ•´æ•°ã‚’åŠ ç®—
            
            return Daifuku(self.flavor, new_price)
            # åŒã˜å‘³ã§ä¾¡æ ¼ã ã‘å¤‰æ›´
            
        else:
            # å¯¾å¿œã—ã¦ã„ãªã„å‹ã®å ´åˆ
            return NotImplemented
            # Pythonã«ã€Œã“ã®å‹ã«ã¯å¯¾å¿œã—ã¦ãªã„ã€ã¨ä¼ãˆã‚‹
    
    def __str__(self):
        """æ–‡å­—åˆ—è¡¨ç¾"""
        return f"{self.flavor}å¤§ç¦({self.price}å††)"


print("\nğŸ° === __add__ã®ä½¿ã„æ–¹ ===\n")

# å¤§ç¦ã‚’2ã¤ä½œã‚‹
d1 = Daifuku("ã„ã¡ã”", 120)
print(f"d1 = {d1}")

d2 = Daifuku("æŠ¹èŒ¶", 150)
print(f"d2 = {d2}")

# ğŸ¯ ã“ã“ãŒãƒã‚¤ãƒ³ãƒˆï¼
# d1 + d2 ã‚’æ›¸ãã¨ã€å†…éƒ¨ã§ Daifuku.__add__(d1, d2) ãŒå‘¼ã°ã‚Œã‚‹
print("\nâ• d1 + d2 ã‚’å®Ÿè¡Œ:")
d3 = d1 + d2
# ã“ã‚Œã¯ Daifuku.__add__(d1, d2) ã¨åŒã˜
print(f"çµæœ: {d3}")

# å¤§ç¦ + æ•´æ•°
print("\nâ• d1 + 30 ã‚’å®Ÿè¡Œ:")
d4 = d1 + 30
# ã“ã‚Œã¯ Daifuku.__add__(d1, 30) ã¨åŒã˜
print(f"çµæœ: {d4}")


# ============================================
# ğŸ° å®Ÿç”¨ä¾‹ï¼šãŠä¼šè¨ˆã‚¯ãƒ©ã‚¹
# ============================================

class Bill:
    """ãŠä¼šè¨ˆã‚¯ãƒ©ã‚¹"""
    
    def __init__(self, amount):
        """
        é‡‘é¡ã‚’åˆæœŸåŒ–
        """
        self.amount = amount
        # é‡‘é¡
    
    def __add__(self, other):
        """
        Bill + Bill ã¾ãŸã¯ Bill + int/float ã®åŠ ç®—
        """
        if isinstance(other, Bill):
            # 2ã¤ã®ãŠä¼šè¨ˆã‚’åˆç®—
            return Bill(self.amount + other.amount)
        elif isinstance(other, (int, float)):
            # ãŠä¼šè¨ˆã«é‡‘é¡ã‚’è¿½åŠ 
            # (int, float) ã¯ã‚¿ãƒ—ãƒ«ã§è¤‡æ•°ã®å‹ã‚’æŒ‡å®š
            return Bill(self.amount + other)
        else:
            return NotImplemented
    
    def __str__(self):
        """æ–‡å­—åˆ—è¡¨ç¾"""
        return f"Â¥{self.amount:,}"
        # :, ã¯3æ¡åŒºåˆ‡ã‚Šã®ã‚«ãƒ³ãƒ


print("\n\nğŸ° === ãŠä¼šè¨ˆã®è¨ˆç®— ===\n")

bill1 = Bill(1200)
print(f"ãŠå®¢æ§˜A: {bill1}")

bill2 = Bill(850)
print(f"ãŠå®¢æ§˜B: {bill2}")

# 2ã¤ã®ãŠä¼šè¨ˆã‚’åˆç®—
total = bill1 + bill2
print(f"\nåˆè¨ˆ: {total}")

# ãŠä¼šè¨ˆã«æ¶ˆè²»ç¨ã‚’è¿½åŠ 
with_tax = total + 205
print(f"ç¨è¾¼: {with_tax}")
```

---

## 3ï¸âƒ£ `__radd__` - é€†é †ã®åŠ ç®—ï¼ˆå³å´åŠ ç®—ï¼‰

```python
# ============================================
# ğŸ° __radd__ã§ã€Œé€†é †ã®+ã€ã«å¯¾å¿œ
# ============================================

class Price:
    """ä¾¡æ ¼ã‚¯ãƒ©ã‚¹ - é€†é †ã®åŠ ç®—ã«ã‚‚å¯¾å¿œ"""
    
    def __init__(self, yen):
        """é‡‘é¡ã‚’åˆæœŸåŒ–"""
        self.yen = yen
    
    def __add__(self, other):
        """
        é€šå¸¸ã®åŠ ç®—: Price + ä½•ã‹
        
        self + other ã®å ´åˆã«å‘¼ã°ã‚Œã‚‹
        """
        print(f"  ğŸ”µ __add__ãŒå‘¼ã°ã‚Œã¾ã—ãŸ")
        
        if isinstance(other, Price):
            # Price + Price
            return Price(self.yen + other.yen)
        elif isinstance(other, (int, float)):
            # Price + æ•°å€¤
            return Price(self.yen + other)
        else:
            return NotImplemented
    
    def __radd__(self, other):
        """
        é€†é †ã®åŠ ç®—: ä½•ã‹ + Price
        
        other + self ã®å ´åˆã«å‘¼ã°ã‚Œã‚‹
        å·¦å´ãŒçµ„ã¿è¾¼ã¿å‹ï¼ˆint, floatãªã©ï¼‰ã®æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹
        
        ğŸ¯ é‡è¦ãƒã‚¤ãƒ³ãƒˆ:
        - æ™®é€šã€int + int ã¯PythonãŒå‡¦ç†ã™ã‚‹
        - ã§ã‚‚ã€int + Price ã¯intã‚¯ãƒ©ã‚¹ãŒå¯¾å¿œã—ã¦ã„ãªã„
        - ãã“ã§ã€Priceã®__radd__ãŒå‘¼ã°ã‚Œã‚‹ï¼
        """
        print(f"  ğŸ”´ __radd__ãŒå‘¼ã°ã‚Œã¾ã—ãŸ")
        
        # å¤šãã®å ´åˆã€__add__ã¨åŒã˜å‡¦ç†ã§OK
        return self.__add__(other)
        # self.__add__(other) ã‚’å‘¼ã³å‡ºã™
        # ã¤ã¾ã‚Šã€é †åºã‚’å…¥ã‚Œæ›¿ãˆã¦__add__ã‚’ä½¿ã†
    
    def __str__(self):
        """æ–‡å­—åˆ—è¡¨ç¾"""
        return f"{self.yen}å††"


print("\nğŸ° === __add__ ã¨ __radd__ ã®é•ã„ ===\n")

p = Price(100)
print(f"ä¾¡æ ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ: {p}\n")

# ã‚±ãƒ¼ã‚¹1: Price + int
print("ğŸ“Œ ã‚±ãƒ¼ã‚¹1: p + 50")
result1 = p + 50
# Price.__add__(p, 50) ãŒå‘¼ã°ã‚Œã‚‹
print(f"çµæœ: {result1}\n")

# ã‚±ãƒ¼ã‚¹2: int + Price
print("ğŸ“Œ ã‚±ãƒ¼ã‚¹2: 50 + p")
result2 = 50 + p
# å†…éƒ¨ã®å‹•ã:
# 1. ã¾ãšã€int.__add__(50, p) ã‚’è©¦ã¿ã‚‹
# 2. intã‚¯ãƒ©ã‚¹ã¯Priceã‚’çŸ¥ã‚‰ãªã„ã®ã§NotImplementedã‚’è¿”ã™
# 3. æ¬¡ã«ã€Price.__radd__(p, 50) ãŒå‘¼ã°ã‚Œã‚‹
print(f"çµæœ: {result2}\n")

# ã‚±ãƒ¼ã‚¹3: Price + Price
print("ğŸ“Œ ã‚±ãƒ¼ã‚¹3: p + Price(30)")
result3 = p + Price(30)
# Price.__add__(p, Price(30)) ãŒå‘¼ã°ã‚Œã‚‹
print(f"çµæœ: {result3}\n")


# ============================================
# ğŸ“ __radd__ãŒãªã„ã¨ã©ã†ãªã‚‹ï¼Ÿ
# ============================================

class PriceNoRAdd:
    """__radd__ãŒãªã„ä¾¡æ ¼ã‚¯ãƒ©ã‚¹"""
    
    def __init__(self, yen):
        self.yen = yen
    
    def __add__(self, other):
        """é€šå¸¸ã®åŠ ç®—ã®ã¿"""
        if isinstance(other, PriceNoRAdd):
            return PriceNoRAdd(self.yen + other.yen)
        elif isinstance(other, (int, float)):
            return PriceNoRAdd(self.yen + other)
        return NotImplemented
    
    def __str__(self):
        return f"{self.yen}å††"


print("\nğŸ° === __radd__ãŒãªã„å ´åˆ ===\n")

p2 = PriceNoRAdd(100)

# ã“ã‚Œã¯å‹•ã
print("âœ… p2 + 50:")
print(f"  {p2 + 50}")

# ã“ã‚Œã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ï¼
print("\nâŒ 50 + p2:")
try:
    print(f"  {50 + p2}")
except TypeError as e:
    print(f"  ã‚¨ãƒ©ãƒ¼: {e}")
    print(f"  ç†ç”±: __radd__ãŒãªã„ã®ã§ã€int + PriceNoRAddã«å¯¾å¿œã§ããªã„")
```

### ğŸ¯ `__add__` ã¨ `__radd__` ã®ä½¿ã„åˆ†ã‘

```python
# ============================================
# ğŸ“Š ã¾ã¨ã‚ï¼šã„ã¤ã©ã¡ã‚‰ãŒå‘¼ã°ã‚Œã‚‹ï¼Ÿ
# ============================================

class Demo:
    def __init__(self, value):
        self.value = value
    
    def __add__(self, other):
        print(f"    __add__: Demo({self.value}) + {other}")
        return Demo(self.value + other)
    
    def __radd__(self, other):
        print(f"    __radd__: {other} + Demo({self.value})")
        return Demo(other + self.value)
    
    def __str__(self):
        return f"Demo({self.value})"


print("\n\nğŸ° === å‘¼ã³å‡ºã•ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸€è¦§ ===\n")

d = Demo(10)

print("1ï¸âƒ£  d + 5:")
print(f"  â†’ {d + 5}\n")

print("2ï¸âƒ£  5 + d:")
print(f"  â†’ {5 + d}\n")

print("3ï¸âƒ£  d + Demo(3):")
d2 = Demo(3)
print(f"  â†’ {d + d2}\n")
```

### ğŸ“‹ å‘¼ã³å‡ºã—ãƒ«ãƒ¼ãƒ«è¡¨

| å¼ | æœ€åˆã«è©¦ã¿ã‚‹ | å¤±æ•—ã—ãŸã‚‰ | çµæœ |
|---|-----------|---------|-----|
| `a + b` | `a.__add__(b)` | `b.__radd__(a)` | ã©ã¡ã‚‰ã‹ãŒæˆåŠŸ |
| `100 + obj` | `int.__add__(100, obj)` â†’ å¤±æ•— | `obj.__radd__(100)` | `__radd__`ãŒå‘¼ã°ã‚Œã‚‹ |
| `obj + 100` | `obj.__add__(100)` | ï¼ˆé€šå¸¸ä¸è¦ï¼‰ | `__add__`ãŒå‘¼ã°ã‚Œã‚‹ |

---

## 4ï¸âƒ£ ãã®ä»–ã®ä¾¿åˆ©ãªç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰

```python
# ============================================
# ğŸ° ã‚ˆãä½¿ã†ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰é›†
# ============================================

class DaifukuShop:
    """å¤§ç¦ã‚·ãƒ§ãƒƒãƒ—ã‚¯ãƒ©ã‚¹ - æ§˜ã€…ãªç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰"""
    
    def __init__(self, items):
        """åˆæœŸåŒ–"""
        self.items = items
        # å•†å“ãƒªã‚¹ãƒˆ
    
    def __str__(self):
        """
        æ–‡å­—åˆ—è¡¨ç¾ - print()ã§ä½¿ã‚ã‚Œã‚‹
        äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼
        """
        return f"å¤§ç¦ã‚·ãƒ§ãƒƒãƒ—ï¼ˆå•†å“æ•°: {len(self.items)}ï¼‰"
    
    def __repr__(self):
        """
        é–‹ç™ºè€…å‘ã‘è¡¨ç¾ - ãƒ‡ãƒãƒƒã‚°æ™‚ã«ä½¿ã‚ã‚Œã‚‹
        å†ç¾å¯èƒ½ãªå½¢å¼ãŒæœ›ã¾ã—ã„
        """
        return f"DaifukuShop({self.items})"
    
    def __len__(self):
        """
        é•·ã• - len()ã§ä½¿ã‚ã‚Œã‚‹
        """
        return len(self.items)
    
    def __getitem__(self, index):
        """
        ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ - shop[0]ã§ä½¿ã‚ã‚Œã‚‹
        """
        return self.items[index]
    
    def __setitem__(self, index, value):
        """
        ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»£å…¥ - shop[0] = "æ–°å•†å“"ã§ä½¿ã‚ã‚Œã‚‹
        """
        self.items[index] = value
    
    def __contains__(self, item):
        """
        ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ - "ã„ã¡ã”" in shopã§ä½¿ã‚ã‚Œã‚‹
        """
        return item in self.items
    
    def __eq__(self, other):
        """
        ç­‰ä¾¡æ¯”è¼ƒ - shop1 == shop2ã§ä½¿ã‚ã‚Œã‚‹
        """
        if isinstance(other, DaifukuShop):
            return self.items == other.items
        return False
    
    def __lt__(self, other):
        """
        å°ãªã‚Šæ¯”è¼ƒ - shop1 < shop2ã§ä½¿ã‚ã‚Œã‚‹
        å•†å“æ•°ã§æ¯”è¼ƒ
        """
        if isinstance(other, DaifukuShop):
            return len(self.items) < len(other.items)
        return NotImplemented
    
    def __add__(self, other):
        """
        åŠ ç®— - shop1 + shop2ã§ä½¿ã‚ã‚Œã‚‹
        2ã¤ã®ã‚·ãƒ§ãƒƒãƒ—ã‚’çµ±åˆ
        """
        if isinstance(other, DaifukuShop):
            return DaifukuShop(self.items + other.items)
        return NotImplemented


print("\nğŸ° === ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿæ¼” ===\n")

shop1 = DaifukuShop(["ã„ã¡ã”", "æŠ¹èŒ¶", "ã‚ã‚“ã“"])
shop2 = DaifukuShop(["æ —", "ãƒãƒ§ã‚³"])

# __str__
print("ğŸ“ __str__ï¼ˆprintæ™‚ï¼‰:")
print(f"  {shop1}\n")

# __repr__
print("ğŸ”§ __repr__ï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰:")
print(f"  {repr(shop1)}\n")

# __len__
print("ğŸ“ __len__ï¼ˆé•·ã•ï¼‰:")
print(f"  len(shop1) = {len(shop1)}\n")

# __getitem__
print("ğŸ“‹ __getitem__ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ï¼‰:")
print(f"  shop1[0] = {shop1[0]}\n")

# __setitem__
print("âœï¸  __setitem__ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»£å…¥ï¼‰:")
shop1[0] = "ç‰¹é¸ã„ã¡ã”"
print(f"  shop1[0] = '{shop1[0]}'\n")

# __contains__
print("ğŸ” __contains__ï¼ˆãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ï¼‰:")
print(f"  'æŠ¹èŒ¶' in shop1 = {'æŠ¹èŒ¶' in shop1}\n")

# __eq__
print("âš–ï¸  __eq__ï¼ˆç­‰ä¾¡æ¯”è¼ƒï¼‰:")
shop3 = DaifukuShop(["ç‰¹é¸ã„ã¡ã”", "æŠ¹èŒ¶", "ã‚ã‚“ã“"])
print(f"  shop1 == shop3 = {shop1 == shop3}\n")

# __lt__
print("ğŸ“Š __lt__ï¼ˆå°ãªã‚Šæ¯”è¼ƒï¼‰:")
print(f"  shop2 < shop1 = {shop2 < shop1}")
print(f"  ï¼ˆshop2ã®å•†å“æ•°: {len(shop2)}, shop1ã®å•†å“æ•°: {len(shop1)}ï¼‰\n")

# __add__
print("â• __add__ï¼ˆåŠ ç®—ï¼‰:")
combined = shop1 + shop2
print(f"  shop1 + shop2 = {combined}")
print(f"  å•†å“ä¸€è¦§: {combined.items}\n")
```

---

## ğŸ“Š ä¸»è¦ãªç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§è¡¨

| ã‚«ãƒ†ã‚´ãƒª | ãƒ¡ã‚½ãƒƒãƒ‰ | ç”¨é€” | ä¾‹ |
|---------|---------|-----|---|
| **åˆæœŸåŒ–ãƒ»å‰Šé™¤** | `__init__` | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åˆæœŸåŒ– | `obj = Class()` |
| | `__del__` | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å‰Šé™¤ | `del obj` |
| **æ–‡å­—åˆ—è¡¨ç¾** | `__str__` | äººé–“å‘ã‘æ–‡å­—åˆ— | `print(obj)` |
| | `__repr__` | é–‹ç™ºè€…å‘ã‘æ–‡å­—åˆ— | `repr(obj)` |
| **ç®—è¡“æ¼”ç®—** | `__add__` | åŠ ç®— | `a + b` |
| | `__radd__` | å³å´åŠ ç®— | `5 + obj` |
| | `__sub__` | æ¸›ç®— | `a - b` |
| | `__mul__` | ä¹—ç®— | `a * b` |
| | `__truediv__` | é™¤ç®— | `a / b` |
| **æ¯”è¼ƒæ¼”ç®—** | `__eq__` | ç­‰ä¾¡ | `a == b` |
| | `__ne__` | ä¸ç­‰ä¾¡ | `a != b` |
| | `__lt__` | å°ãªã‚Š | `a < b` |
| | `__le__` | ä»¥ä¸‹ | `a <= b` |
| | `__gt__` | å¤§ãªã‚Š | `a > b` |
| | `__ge__` | ä»¥ä¸Š | `a >= b` |
| **ã‚³ãƒ³ãƒ†ãƒŠ** | `__len__` | é•·ã• | `len(obj)` |
| | `__getitem__` | å–å¾— | `obj[key]` |
| | `__setitem__` | è¨­å®š | `obj[key] = val` |
| | `__contains__` | å«æœ‰ | `x in obj` |

---

## ğŸ¯ å­¦ç¿’ã®ã¾ã¨ã‚

### ğŸ§ è¦šãˆã¦ãŠããŸã„ãƒã‚¤ãƒ³ãƒˆ

1. **`__init__`**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆèª•ç”Ÿæ™‚ã®ã€Œã“ã‚“ã«ã¡ã¯ã€
2. **`__del__`**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤æ™‚ã®ã€Œã•ã‚ˆã†ãªã‚‰ã€
3. **`__add__`**: `+`æ¼”ç®—å­ã®å‹•ä½œã‚’è‡ªåˆ†ã§å®šç¾©ã§ãã‚‹
4. **`__radd__`**: é€†é †ï¼ˆ`æ•°å€¤ + ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ`ï¼‰ã«ã‚‚å¯¾å¿œ
5. **ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰**: Pythonã®æ¼”ç®—å­ã‚„çµ„ã¿è¾¼ã¿é–¢æ•°ã‚’è‡ªä½œã‚¯ãƒ©ã‚¹ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ä»•çµ„ã¿

### ğŸ’¡ å®Ÿè·µçš„ãªä½¿ã„æ–¹

```python
# å®Ÿç”¨çš„ãªä¾‹ï¼šãŠè²·ã„ç‰©ã‚«ãƒ¼ãƒˆ
class Cart:
    def __init__(self):
        self.items = []
    
    def __add__(self, item):
        """å•†å“ã‚’è¿½åŠ """
        self.items.append(item)
        return self
    
    def __len__(self):
        """å•†å“æ•°"""
        return len(self.items)
    
    def __str__(self):
        """ã‚«ãƒ¼ãƒˆå†…å®¹"""
        return f"ã‚«ãƒ¼ãƒˆ({len(self)}ç‚¹): {', '.join(self.items)}"

cart = Cart()
cart = cart + "ã„ã¡ã”å¤§ç¦" + "æŠ¹èŒ¶å¤§ç¦"
print(cart)
```

ğŸ° **ã†ã•ã†ã•åº—é•·ã‚ˆã‚Š**: ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã„ã“ãªã›ã°ã€Pythonã‚‰ã—ã„ç¶ºéº—ãªã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ˆï¼ğŸ¡âœ¨
